<div class="edit-page">

  <div class="edit-body">
    <!-- Builder-Komponente wird eingebunden.
         showActions = false, weil wir hier nur im Edit-Modus sind.
         Daten werden über Two-Way-Bindings ([(...)]) übergeben. -->
    <app-survey-builder
      [showActions]="false"
      [surveyId]="surveyId"
      [(title)]="title"
      [(description)]="description"
      [(startDate)]="startAt"
      [(endDate)]="endAt"
      [(logoUrl)]="logoUrl"
      [(questions)]="questions">
    </app-survey-builder>
  </div>

  <div class="edit-actions">
    <!-- Vorschau -->
    <button mat-raised-button color="basic" (click)="openPreview()">
      {{ 'edit.preview' | translate }}
    </button>

    <!-- Entwurf speichern -->
    <button mat-raised-button color="primary" (click)="updateSurvey('draft')">
      {{ 'edit.saveDraft' | translate }}
    </button>

    <!-- Veröffentlichen -->
    <button mat-raised-button color="accent" (click)="updateSurvey('published')">
      {{ 'edit.publish' | translate }}
    </button>
  </div>

  <!-- Fehlermeldung -->
  <p *ngIf="errorMsg" class="error">{{ errorMsg }}</p>
</div>
