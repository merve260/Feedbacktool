<!-- Titel des Dialogs -->
<h2 mat-dialog-title>Vorschau: {{ data.title }}</h2>

<!-- Inhalt -->
<div mat-dialog-content class="preview-content">

  <!-- Beschreibung -->
  <p class="description" *ngIf="data.description">{{ data.description }}</p>

  <!-- Name-Feld (immer deaktiviert) -->
  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Ihr Name (optional)</mat-label>
    <input matInput placeholder="Vor- und Nachname" disabled />
  </mat-form-field>

  <!-- Fragenliste -->
  <div *ngFor="let q of data.questions; let i = index" class="question-block">
    <h3>{{ i + 1 }}. {{ q.title }}</h3>

    <!-- Fragebeschreibung -->
    <p class="question-text" *ngIf="q.text">{{ q.text }}</p>

    <ng-container [ngSwitch]="q.type">

      <!-- Multiple Choice -->
      <div *ngSwitchCase="'multiple'">
        <mat-checkbox *ngFor="let opt of q.options" disabled>{{ opt }}</mat-checkbox>
      </div>

      <!-- Radiobutton-Auswahl -->
      <div *ngSwitchCase="'radio'">
        <mat-radio-group>
          <mat-radio-button *ngFor="let opt of q.options" [value]="opt" disabled>
            {{ opt }}
          </mat-radio-button>
        </mat-radio-group>
      </div>

      <!-- Skala / Slider -->
      <div *ngSwitchCase="'slider'" class="slider-preview">
        <mat-slider [min]="q.min || 1" [max]="q.max || 10" [step]="q.step || 1" disabled>
          <input matSliderThumb />
        </mat-slider>
        <small *ngIf="q.thumbLabel">Wertanzeige: aktiviert</small>
      </div>

      <!-- Sterne-Bewertung -->
      <div *ngSwitchCase="'star'" class="star-rating">
        <mat-icon *ngFor="let s of [].constructor(q.maxStars || 5)">star</mat-icon>
      </div>

      <!-- Freitext -->
      <div *ngSwitchCase="'freitext'">
        <mat-form-field class="full-width">
          <mat-label>{{ q.placeholderText || 'Antwort' }}</mat-label>
          <input matInput disabled />
        </mat-form-field>
      </div>

      <!-- Fallback -->
      <div *ngSwitchDefault>
        <p>Unbekannter Fragetyp</p>
      </div>

    </ng-container>
  </div>
</div>

<!-- Aktionen -->
<div mat-dialog-actions align="end">
  <button mat-raised-button color="primary" (click)="close()">Schlie√üen</button>
</div>
